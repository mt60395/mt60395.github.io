<!DOCTYPE html>
<!-- See the file index.html for copying conditions. -->

<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Installation guide - ArchWiki</title>
    <link rel="stylesheet" href="arch.css">
    <link rel="license" href="http://www.gnu.org/copyleft/fdl.html">
</head>

<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Installation_guide rootpage-Installation_guide skin-vector action-view">
    <div id="content" class="mw-body" role="main">
        <a id="top"></a>

        <div class="mw-indicators mw-body-content">
        </div>

        <h1 id="firstHeading" class="firstHeading" lang="en">Arch Linux Installation Guide by mt60395</h1>

        <div id="bodyContent" class="mw-body-content">

            <div id="mw-content-text" dir="ltr" class="mw-content-ltr" lang="en">
                <div class="mw-parser-output">
                    <p>This document is a guide for installing <a href="https://wiki.archlinux.org/index.php/Arch_Linux" title="Arch Linux">Arch Linux</a> using the live system booted from an installation medium made from an official installation image. Additionally, it includes instructions on how to install
                        <a href="https://wiki.archlinux.org/index.php/GRUB" title="GRUB">GRUB</a>, a
                        <a href="https://wiki.archlinux.org/index.php/Desktop_environment" title="Desktop environment">desktop environment (KDE)</a>, and how to mount /home to a different partition.
                    </p>
                    <p>Note that this is <b>not the original install guide,</b> which can be found <a href="https://wiki.archlinux.org/index.php/Installation_guide" title="Installation guide">here.</a> This is a modified version with additions that I have found to be fitting after installing Arch on multiple machines, multiple times.</p>
                    <p>Before installing, it would be advised to view the <a href="https://wiki.archlinux.org/index.php/FAQ" class="mw-redirect" title="FAQ">FAQ</a>. For conventions used in this document, see <a href="https://wiki.archlinux.org/index.php/Help:Reading" title="Help:Reading">Help:Reading</a>. In particular, code examples may contain placeholders (formatted in <code><i>italics</i></code>) that must be replaced manually.</p>
                    <p>For more detailed instructions, see the respective <a href="https://wiki.archlinux.org/index.php/ArchWiki" class="mw-redirect" title="ArchWiki">ArchWiki</a> articles or the various programs' <a href="https://wiki.archlinux.org/index.php/Man_page" title="Man page">man pages</a>, both linked from this guide. For interactive help, the <a href="https://wiki.archlinux.org/index.php/IRC_channel" class="mw-redirect" title="IRC channel">IRC channel</a> and the <a rel="nofollow" class="text" href="https://bbs.archlinux.org/">forums</a> are also available.
                    </p>
                    <p>Arch Linux should run on any <a href="https://en.wikipedia.org/wiki/X86-64" class="extiw" title="wikipedia:X86-64">x86_64</a>-compatible machine with a minimum of 512 MiB RAM, though more memory is needed to boot the live system for installation. A basic installation should take less than 2 GiB of disk space. As the installation process needs to retrieve packages from a remote repository, this guide assumes a working internet connection is available.
                    </p>
                    <h2><span class="mw-headline" id="Pre-installation">Pre-installation</span></h2>
                    <h3><span class="mw-headline" id="Acquire_an_installation_image">Acquire an installation
                            image</span></h3>
                    <p>Visit the <a rel="nofollow" class="text" href="https://www.archlinux.org/download/">Download</a> page and, depending on how you want to boot, acquire the ISO file or a netboot image, and the respective <a href="https://wiki.archlinux.org/index.php/GnuPG" title="GnuPG">GnuPG</a> signature.
                    </p>
                    <h3><span class="mw-headline" id="Verify_signature">Verify signature</span></h3>
                    <p>It is recommended to verify the image signature before use, especially when downloading from an
                        <i>HTTP mirror</i>, where downloads are generally prone to be intercepted to <a rel="nofollow" class="text" href="https://www2.cs.arizona.edu/stork/packagemanagersecurity/attacks-on-package-managers.html">serve
                            malicious images</a>.
                    </p>
                    <p>On a system with <a href="https://wiki.archlinux.org/index.php/GnuPG" title="GnuPG">GnuPG</a> installed, do this by downloading the <i>PGP signature</i> (under <i>Checksums</i> in the <a rel="nofollow" class="text" href="https://www.archlinux.org/download/">Download</a> page) to the ISO directory, and <a href="https://wiki.archlinux.org/index.php/GnuPG#Verify_a_signature" title="GnuPG">verifying</a> it with:
                    </p>
                    <pre>$ gpg --keyserver-options auto-key-retrieve --verify archlinux-<i>version</i>-x86_64.iso.sig
</pre>
                    <p>Alternatively, from an existing Arch Linux installation run:
                    </p>
                    <pre>$ pacman-key -v archlinux-<i>version</i>-x86_64.iso.sig
</pre>
                    <div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong>
                        <ul>
                            <li>The signature itself could be manipulated if it is downloaded from a mirror site, instead of from <a rel="nofollow" class="text" href="https://archlinux.org/download/">archlinux.org</a> as above. In this case, ensure that the public key, which is used to decode the signature, is signed by another, trustworthy key. The <code>gpg</code> command will output the fingerprint of the public key.
                            </li>
                            <li>Another method to verify the authenticity of the signature is to ensure that the public key's fingerprint is identical to the key fingerprint of the <a rel="nofollow" class="text" href="https://www.archlinux.org/people/developers/">Arch Linux
                                    developer</a> who signed the ISO-file. See <a href="https://en.wikipedia.org/wiki/Public-key_cryptography" class="extiw" title="wikipedia:Public-key cryptography">Wikipedia:Public-key cryptography</a> for more information on the public-key process to authenticate keys.</li>
                        </ul>
                    </div>
                    <h3><span class="mw-headline" id="Prepare_an_installation_medium">Prepare an installation
                            medium</span></h3>
                    <p>The installation image can be supplied to the target machine via a <a href="https://wiki.archlinux.org/index.php/USB_flash_installation_medium" title="USB flash installation medium">USB flash drive</a> with
                        <a href="https://rufus.ie/" title="Rufus">Rufus</a> if you are currently using a Windows operating system.</p>
                    <p><a href="https://www.balena.io/etcher/" title="balenaEtcher">balenaEtcher</a> is an alternative.</p>
                    </p>
                    <h3><span class="mw-headline" id="Boot_the_live_environment">Boot the live environment</span></h3>
                    <ol>
                        <li>After heading to BIOS, point the current boot device to the one which has the Arch Linux installation medium. Typically it is achieved by pressing a key during the <a href="https://en.wikipedia.org/wiki/Power-on_self_test" class="extiw" title="wikipedia:Power-on self test">POST</a> phase, as indicated on the splash screen. Refer to your motherboard's manual for details.</li>
                        <li>When the installation medium's boot loader menu appears, select <i><b>Arch Linux install
                                medium</b></i> and press <code>Enter</code> to enter the installation environment.
                            <div class="archwiki-template-box archwiki-template-box-tip"><strong>Tip:</strong> The installation image uses <a href="https://wiki.archlinux.org/index.php/Systemd-boot" title="Systemd-boot">systemd-boot</a> for booting in UEFI mode and <a href="https://wiki.archlinux.org/index.php/Syslinux" title="Syslinux">syslinux</a> for booting in BIOS mode. See <a rel="nofollow" class="text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/docs/README.bootparams">README.bootparams</a> for a list of <a href="https://wiki.archlinux.org/index.php/Kernel_parameters#Configuration" title="Kernel parameters">boot parameters</a>.</div>
                        </li>
                        <li>You will be logged in on the first <a href="https://en.wikipedia.org/wiki/Virtual_console" class="extiw" title="wikipedia:Virtual console">virtual console</a> as the root user, and presented with a <a href="https://wiki.archlinux.org/index.php/Zsh" title="Zsh">Zsh</a> shell prompt.</li>
                    </ol>
                    <h3><span class="mw-headline" id="Set_the_keyboard_layout">Set the keyboard layout</span></h3>
                    <p>The default <a href="https://wiki.archlinux.org/index.php/Console_keymap" title="Console keymap">console keymap</a> is <a href="https://en.wikipedia.org/wiki/File:KB_United_States-NoAltGr.svg" class="extiw" title="wikipedia:File:KB United States-NoAltGr.svg">US</a>. Available layouts can be listed with:
                    </p>
                    <pre># ls /usr/share/kbd/keymaps/**/*.map.gz
</pre>
                    <p>To modify the layout, append a corresponding file name to <span class="plainlinks archwiki-template-man" title="$ man 1 loadkeys"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/loadkeys.1">loadkeys(1)</a></span>, omitting path and file extension. For example, to set a <a href="https://en.wikipedia.org/wiki/File:KB_Germany.svg" class="extiw" title="wikipedia:File:KB Germany.svg">German</a> keyboard layout:
                    </p>
                    <pre># loadkeys de-latin1
</pre>
                    <p><a href="https://wiki.archlinux.org/index.php/Console_fonts" title="Console fonts">Console fonts</a> are located in
                        <code>/usr/share/kbd/consolefonts/</code> and can likewise be set with <span class="plainlinks archwiki-template-man" title="$ man 8 setfont"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/setfont.8">setfont(8)</a></span>.
                    </p>
                    <h3><span class="mw-headline" id="Verify_the_boot_mode">Verify the boot mode</span></h3>
                    <p>To verify the boot mode, list the <a href="https://wiki.archlinux.org/index.php/Efivars" title="Efivars">efivars</a> directory:
                    </p>
                    <pre># ls /sys/firmware/efi/efivars
</pre>
                    <p>If the command shows the directory without error, then the system is booted in UEFI mode. If the directory does not exist, the system may be booted in <a href="https://en.wikipedia.org/wiki/BIOS" class="extiw" title="wikipedia:BIOS">BIOS</a> (or
                        <a href="https://en.wikipedia.org/wiki/Compatibility_Support_Module" class="extiw" title="wikipedia:Compatibility Support Module">CSM</a>) mode. If the system did not boot in the mode you desired, refer to your motherboard's manual.
                    </p>
                    <h3><span class="mw-headline" id="Connect_to_the_internet">Connect to the internet</span></h3>
                    <ul>
                        <li>Ensure your <a href="https://wiki.archlinux.org/index.php/Network_interface" class="mw-redirect" title="Network interface">network interface</a> is listed and enabled, for example with <span class="plainlinks archwiki-template-man" title="$ man 8 ip-link"><a rel="nofollow" class="text"
                                    href="https://jlk.fjfi.cvut.cz/arch/manpages/man/ip-link.8">ip-link(8)</a></span>:
                            <pre># ip link</pre>
                        </li>
                        <li>Connect with ethernet by plugging in the cable.</li>
                        <li>For Wi-Fi, make sure the wireless card is not blocked with <a href="https://wiki.archlinux.org/index.php/Rfkill" class="mw-redirect" title="Rfkill">rfkill</a>. Authenticate to the wireless network using <a href="https://wiki.archlinux.org/index.php/Wpa_supplicant" class="mw-redirect" title="wpa_supplicant">wpa_supplicant</a>.
                        </li>
                        <li>If you have connection issues after rebooting into the install (not from a live environment and arch-chroot), use
                            <a href="https://wiki.archlinux.org/index.php/NetworkManager" title="NetworkManager">nmcli.</a></li>
                    </ul>
                    <b><p>Make sure that the font doesn't confuse you when typing in your SSID for wireless connections. 1's, i's, and L's may look very similar.</p></b> The connection may be verified with <a href="https://en.wikipedia.org/wiki/ping_(networking_utility)" class="extiw" title="wikipedia:ping (networking utility)">ping</a>:
                    <pre># ping archlinux.org</pre>

                    <h3><span class="mw-headline" id="Update_the_system_clock">Update the system clock</span></h3>
                    <p>Use <span class="plainlinks archwiki-template-man" title="$ man 1 timedatectl"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/timedatectl.1">timedatectl(1)</a></span> to ensure the system clock is accurate:
                    </p>
                    <pre># timedatectl set-ntp true
</pre>
                    <p>To check the service status, use <code>timedatectl status</code>.
                    </p>
                    <p>If you have a partition for Windows, it is common to have Linux use local time and have Windows sync the time.
                        <br>Use this command to have Linux use local time:
                        <pre># timedatectl set-local-rtc 1 --adjust-system-clock</pre>
                    </p>
                    <h3><span class="mw-headline" id="Partition_the_disks">Partition the disks</span></h3>
                    <p>When recognized by the live system, disks are assigned to a <a href="https://wiki.archlinux.org/index.php/Block_device" class="mw-redirect" title="Block device">block device</a> such as <code>/dev/sda</code>,
                        <code>/dev/nvme0n1</code> or <code>/dev/mmcblk0</code>. To identify these devices, use <a href="https://wiki.archlinux.org/index.php/Lsblk" class="mw-redirect" title="Lsblk">lsblk</a> or <i>fdisk</i>.
                    </p>
                    <pre># fdisk -l
</pre>
                    <p>Results ending in <code>rom</code>, <code>loop</code> or <code>airoot</code> may be ignored.
                    </p>
                    <p>The following <a href="https://wiki.archlinux.org/index.php/Partition" class="mw-redirect" title="Partition">partitions</a> are <b>required</b> for a chosen device:
                    </p>
                    <ul>
                        <li>One partition for the <a href="https://en.wikipedia.org/wiki/Root_directory" class="extiw" title="wikipedia:Root directory">root directory</a> <code>/</code>.</li>
                        <li>For booting in <a href="https://wiki.archlinux.org/index.php/UEFI" class="mw-redirect" title="UEFI">UEFI</a> mode: an <a href="https://wiki.archlinux.org/index.php/EFI_system_partition" title="EFI system partition">EFI system partition</a>.</li>
                    </ul>
                    <p>If you want to create any stacked block devices for <a href="https://wiki.archlinux.org/index.php/LVM" title="LVM">LVM</a>, <a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">system encryption</a> or <a href="https://wiki.archlinux.org/index.php/RAID" title="RAID">RAID</a>, do it now.
                    </p>
                    <h4><span class="mw-headline" id="Example_layouts">Example layouts</span></h4>
                    <table class="wikitable">
                        <caption>BIOS with <a href="https://wiki.archlinux.org/index.php/MBR" class="mw-redirect" title="MBR">MBR</a>
                        </caption>
                        <tbody>
                            <tr>
                                <th>Mount point
                                </th>
                                <th>Partition
                                </th>
                                <th><a href="https://en.wikipedia.org/wiki/Partition_type" class="extiw" title="wikipedia:Partition type">Partition type</a>
                                </th>
                                <th>Suggested size
                                </th>
                            </tr>
                            <tr>
                                <td><code>[SWAP]</code>
                                </td>
                                <td><code>/dev/<i>swap_partition</i></code>
                                </td>
                                <td>Linux swap
                                </td>
                                <td>More than 512 MiB
                                </td>
                            </tr>
                            <tr>
                                <td><code>/mnt</code>
                                </td>
                                <td><code>/dev/<i>root_partition</i></code>
                                </td>
                                <td>Linux
                                </td>
                                <td>Remainder of the device
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <table class="wikitable">
                        <caption>UEFI with <a href="https://wiki.archlinux.org/index.php/GPT" class="mw-redirect" title="GPT">GPT</a>
                        </caption>
                        <tbody>
                            <tr>
                                <th>Mount point
                                </th>
                                <th>Partition
                                </th>
                                <th><a href="https://en.wikipedia.org/wiki/GUID_Partition_Table#Partition_type_GUIDs" class="extiw" title="wikipedia:GUID Partition Table">Partition type</a>
                                </th>
                                <th>Suggested size
                                </th>
                            </tr>
                            <tr>
                                <td><code>/mnt/boot</code>
                                </td>
                                <td><code>/dev/<i>efi_system_partition</i></code>
                                </td>
                                <td><a href="https://wiki.archlinux.org/index.php/EFI_system_partition" title="EFI system partition">EFI system partition</a>
                                </td>
                                <td>At least 128 MiB
                                </td>
                            </tr>
                            <tr>
                                <td><code>[SWAP]</code>
                                </td>
                                <td><code>/dev/<i>swap_partition</i></code>
                                </td>
                                <td>Linux swap
                                </td>
                                <td>More than 512 MiB
                                </td>
                            </tr>
                            <tr>
                                <td><code>/mnt</code>
                                </td>
                                <td><code>/dev/<i>root_partition</i></code>
                                </td>
                                <td>Linux x86-64 root (/)
                                </td>
                                <td>Remainder of the device
                                </td>
                            </tr>
                        </tbody>
                    </table>
                    <p>See also <a href="https://wiki.archlinux.org/index.php/Partitioning#Example_layouts" title="Partitioning">Partitioning#Example layouts</a>.
                    </p>
                    <div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong>
                        <ul>
                            <li>Use <a href="https://wiki.archlinux.org/index.php/Fdisk" title="Fdisk">fdisk</a> or <a href="https://wiki.archlinux.org/index.php/Parted" title="Parted">parted</a> to modify partition tables, for example
                                <code>fdisk <i>/dev/the_disk_to_be_partitioned</i></code>.</li>
                            <li><a href="https://wiki.archlinux.org/index.php/Swap" title="Swap">Swap</a> space can be set on a <a href="https://wiki.archlinux.org/index.php/Swap_file" class="mw-redirect" title="Swap file">swap file</a> for file systems supporting it. Note that a swap partition is not necessary.</li>
                            <li>If the disk from which you want to boot <a href="https://wiki.archlinux.org/index.php/EFI_system_partition#Check_for_an_existing_partition" title="EFI system partition">already has an EFI system partition</a>, do not create another one, but use the existing partition instead.</li>
                        </ul>
                    </div>
                    <p>To partition with cfdisk:</p>
                    <ul>
                        <pre># cfdisk /dev/<i>disk_name</i></pre>
                        <li>Delete any previous partitions if you want a clean install.</li>
                        <li>Press Enter on Free Space. Put in your size for your partition, then press enter. Sizes should end with M or G.</li>
                        <li>Make sure your EFI/boot partition is the 'EFI System' type and root is the 'Linux filesystem' type.</li>
                        <li>Write the changes.</li>
                    </ul>
                    <p>I personally have a 128M EFI partition and a 32G size root partition. It works for me because I have plenty of RAM.</p>
                    <h3><span class="mw-headline" id="Format_the_partitions">Format the partitions</span></h3>
                    <p>Once the partitions have been created, each newly created partition must be formatted with an appropriate <a href="https://wiki.archlinux.org/index.php/File_system" class="mw-redirect" title="File system">file system</a>. For example, to create an Ext4 file system on
                        <code>/dev/<i>root_partition</i></code>, run:
                    </p>
                    <pre># mkfs.ext4 /dev/<i>root_partition</i></pre>
                    <p>Create a FAT32 file system on your EFI partition: (Ignore any further instructions about EFI partitions if you are using BIOS with MBR)</p>
                    <pre>$ pacman -S dosfstools
# mkfs.fat -F32 /dev/<i>efi_partition</i></pre>
                    <p>If you created a partition for <a href="https://wiki.archlinux.org/index.php/Swap" title="Swap">swap</a>, initialize it with <span class="plainlinks archwiki-template-man" title="$ man 8 mkswap"><a rel="nofollow" class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/mkswap.8">mkswap(8)</a></span>:
                    </p>
                    <pre># mkswap /dev/<i>swap_partition</i>
# swapon /dev/<i>swap_partition</i></pre>
                    <p>See <a href="https://wiki.archlinux.org/index.php/File_systems#Create_a_file_system" title="File systems">File systems#Create a file system</a> for details.
                    </p>
                    <div class="archwiki-template-box archwiki-template-box-note"><strong>Note:</strong> For stacked block devices replace <code>/dev/<i>*_partition</i></code> with the appropriate block device path.
                    </div>
                    <h3><span class="mw-headline" id="Mount_the_file_systems">Mount the file systems</span></h3>
                    <p><a href="https://wiki.archlinux.org/index.php/Mount" class="mw-redirect" title="Mount">Mount</a> the root volume to <code>/mnt</code>. For example, if the root volume is
                        <code>/dev/<i>root_partition</i></code>:
                    </p>
                    <pre># mount /dev/<i>root_partition</i> /mnt
</pre>
                    <p>If you have an EFI partition:</p>
                    <pre># mkdir /mnt/boot
# mount /dev/<i>efi_partition</i> /mnt/boot</pre>
                    <p><span class="plainlinks archwiki-template-man" title="$ man 8 genfstab"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/genfstab.8">genfstab(8)</a></span> will later detect mounted file systems and swap space.
                    </p>
                    <h2><span class="mw-headline" id="Installation">Installation</span></h2>
                    <h3><span class="mw-headline" id="Select_the_mirrors">Select the mirrors</span></h3>
                    <p>Packages to be installed must be downloaded from <a href="https://wiki.archlinux.org/index.php/Mirrors" title="Mirrors">mirror servers</a>, which are defined in <code>/etc/pacman.d/mirrorlist</code>. On the live system, after connecting to the internet, <a href="https://wiki.archlinux.org/index.php/Reflector" title="Reflector">reflector</a> updates the mirror list by choosing 70 most recently synchronized HTTPS mirrors and sorting them by download rate.<a rel="nofollow" class="autonumber" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/airootfs/etc/systemd/system/reflector.service">[2]</a>
                    </p>
                    <p>The higher a mirror is placed in the list, the more priority it is given when downloading a package. You may want to inspect the file to see if it is satisfactory. If it is not, edit the file accordingly, and move the geographically closest mirrors to the top of the list, although other criteria should be taken into account.
                    </p>
                    <h3><span class="mw-headline" id="Install_essential_packages">Install essential packages</span></h3>
                    <p>Use the <span class="plainlinks archwiki-template-man" title="$ man 8 pacstrap"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/pacstrap.8">pacstrap(8)</a></span> script to install the <span class="plainlinks archwiki-template-pkg"><a rel="nofollow"
                                class="text"
                                href="https://www.archlinux.org/packages/?name=base">base</a></span> packages, Linux <a href="https://wiki.archlinux.org/index.php/Kernel" title="Kernel">kernel</a> and firmware for common hardware, <a href="https://wiki.archlinux.org/index.php/NetworkManager" title="NetworkManager">NetworkManager</a> for networking,
                        <a href="https://wiki.archlinux.org/index.php/GRUB" title="GRUB">GRUB</a> (+ efibootmgr and os-prober) as a bootloader, and <a href="https://wiki.archlinux.org/index.php/Nano" title="Nano">nano</a> as a text editor:
                    </p>
                    <pre># pacstrap /mnt base base-devel linux linux-firmware networkmanager grub nano efibootmgr os-prober
</pre>
                    <p>To <a href="https://wiki.archlinux.org/index.php/Install" class="mw-redirect" title="Install">install</a> other packages or package groups, append the names to the
                        <i>pacstrap</i> command above (space separated) or use <a href="https://wiki.archlinux.org/index.php/Pacman" title="Pacman">pacman</a> while <a href="#Chroot">chrooted into the new system</a>. For comparison, packages available in the live system can be found in <a rel="nofollow" class="text" href="https://gitlab.archlinux.org/archlinux/archiso/-/blob/master/configs/releng/packages.x86_64">packages.x86_64</a>.
                    </p>
                    <h2><span class="mw-headline" id="Configure_the_system">Configure the system</span></h2>
                    <h3><span class="mw-headline" id="Fstab">Fstab</span></h3>
                    <p>Generate an <a href="https://wiki.archlinux.org/index.php/Fstab" title="Fstab">fstab</a> file (use <code>-U</code> or <code>-L</code> to define by <a href="https://wiki.archlinux.org/index.php/UUID" class="mw-redirect" title="UUID">UUID</a> or labels, respectively):
                    </p>
                    <pre># genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</pre>
                    <p>Check the resulting <code>/mnt/etc/fstab</code> file, and edit it in case of errors.
                    </p>
                    <h3><span class="mw-headline" id="Chroot">Chroot</span></h3>
                    <p><a href="https://wiki.archlinux.org/index.php/Change_root" class="mw-redirect" title="Change root">Change root</a> into the new system:
                    </p>
                    <pre># arch-chroot /mnt</pre>
                    <h3><span class="mw-headline" id="Time_zone">Time zone</span></h3>
                    <p>Set the <a href="https://wiki.archlinux.org/index.php/Time_zone" class="mw-redirect" title="Time zone">time zone</a>:
                    </p>
                    <pre># ln -sf /usr/share/zoneinfo/<i>Region</i>/<i>City</i> /etc/localtime
</pre>
                    <ul>
                        <li>"America/Chicago" is a valid Region/City for CDT.</li>
                    </ul>
                    <p>Run <span class="plainlinks archwiki-template-man" title="$ man 8 hwclock"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/hwclock.8">hwclock(8)</a></span> to generate <code>/etc/adjtime</code>:
                    </p>
                    <pre># hwclock --systohc
</pre>
                    <p>This command assumes the hardware clock is set to <a href="https://en.wikipedia.org/wiki/UTC" class="extiw" title="wikipedia:UTC">UTC</a>. See <a href="https://wiki.archlinux.org/index.php/System_time#Time_standard" title="System time">System time#Time standard</a> for details.
                    </p>
                    <h3><span class="mw-headline" id="Localization">Localization</span></h3>
                    <p>Edit <code>/etc/locale.gen</code> and uncomment <code>en_US.UTF-8 UTF-8</code> and other needed
                        <a href="https://wiki.archlinux.org/index.php/Locale" title="Locale">locales</a>. Generate the locales by running:
                    </p>
                    <pre># locale-gen
</pre>
                    <p>Create the <span class="plainlinks archwiki-template-man" title="$ man 5 locale.conf"><a
                                rel="nofollow" class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/locale.conf.5">locale.conf(5)</a></span> file, and <a href="https://wiki.archlinux.org/index.php/Locale#Setting_the_system_locale" title="Locale">set the LANG variable</a> accordingly:
                    </p>
                    <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/locale.conf</pre>
                    <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">LANG=<i>en_US.UTF-8</i></pre>
                    <p>If you <a href="#Set_the_keyboard_layout">set the keyboard layout</a>, make the changes persistent in <span class="plainlinks archwiki-template-man" title="$ man 5 vconsole.conf"><a
                                rel="nofollow" class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/vconsole.conf.5">vconsole.conf(5)</a></span>:
                    </p>
                    <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/vconsole.conf</pre>
                    <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">KEYMAP=<i>de-latin1</i></pre>
                    <h3><span class="mw-headline" id="Network_configuration">Network configuration</span></h3>
                    <p>Create the <a href="https://wiki.archlinux.org/index.php/Hostname" class="mw-redirect" title="Hostname">hostname</a> file:
                    </p>
                    <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hostname</pre>
                    <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;"><i>myhostname</i>
</pre>
                    <p>Add matching entries to <span class="plainlinks archwiki-template-man" title="$ man 5 hosts"><a
                                rel="nofollow" class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/hosts.5">hosts(5)</a></span>:
                    </p>
                    <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/hosts</pre>
                    <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">127.0.1.1	<i>myhostname</i>.localdomain	<i>myhostname</i></pre>
                    <p>Note: Tab indents are in use, not spaces.</p>
                    <p>If the system has a permanent IP address, it should be used instead of <code>127.0.1.1</code>.
                    </p>
                    <p>Enable NetworkManager at startup.</p>
                    <pre># systemctl enable NetworkManager</pre>
                    <h3><span class="mw-headline" id="Initramfs">Initramfs</span></h3>
                    <p>Creating a new <i>initramfs</i> is usually not required, because <a href="https://wiki.archlinux.org/index.php/Mkinitcpio" title="Mkinitcpio">mkinitcpio</a> was run on installation of the <a href="https://wiki.archlinux.org/index.php/Kernel" title="Kernel">kernel</a> package with <i>pacstrap</i>.
                    </p>
                    <p>For <a href="https://wiki.archlinux.org/index.php/Install_Arch_Linux_on_LVM#Adding_mkinitcpio_hooks" title="Install Arch Linux on LVM">LVM</a>, <a href="https://wiki.archlinux.org/index.php/Dm-crypt" title="Dm-crypt">system encryption</a> or <a href="https://wiki.archlinux.org/index.php/RAID#Configure_mkinitcpio" title="RAID">RAID</a>, modify <span class="plainlinks archwiki-template-man" title="$ man 5 mkinitcpio.conf"><a rel="nofollow" class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/mkinitcpio.conf.5">mkinitcpio.conf(5)</a></span> and recreate the initramfs image:
                    </p>
                    <pre># mkinitcpio -P
</pre>
                    <h3><span class="mw-headline" id="Root_password">Root password</span></h3>
                    <p>Set the root <a href="https://wiki.archlinux.org/index.php/Password" class="mw-redirect" title="Password">password</a>:
                    </p>
                    <pre># passwd
</pre>
                    <h3><span class="mw-headline" id="Boot_loader">Install GRUB Bootloader</span></h3>
                    <p>Install GRUB to the disk name, not a partition. Run the <code>grub-mkconfig</code> command if you add another operating system to the same disk.</p>
                    <pre># grub-install /dev/<i>disk_name</i> --efi-directory=/boot
# grub-mkconfig -o /boot/grub/grub.cfg</pre>

                    <p>If you have an Intel or AMD CPU, enable <a href="https://wiki.archlinux.org/index.php/Microcode" title="Microcode">microcode</a> updates in addition.
                    </p>
                    <h2><span class="mw-headline" id="Reboot">Reboot</span></h2>
                    <p>Exit the chroot environment by typing <code>exit</code> or <code>login</code> or pressing <code>Ctrl+d</code>.
                    </p>
                    <p>Optionally manually unmount all the partitions with <code>umount -R /mnt</code>: this allows noticing any "busy" partitions, and finding the cause with <span class="plainlinks archwiki-template-man" title="$ man 1 fuser"><a rel="nofollow"
                                class="text"
                                href="https://jlk.fjfi.cvut.cz/arch/manpages/man/fuser.1">fuser(1)</a></span>.
                    </p>
                    <p>Finally, restart the machine by typing <code>reboot</code>: any partitions still mounted will be automatically unmounted by <i>systemd</i>. Remember to remove the installation medium and then login into the new system with the root account.
                    </p>
                    <h2><span class="mw-headline" id="Post-installation">Post-installation: Adding users</span></h2>

                    <p>Reference: <a href="https://wiki.archlinux.org/index.php/Users_and_groups">https://wiki.archlinux.org/index.php/Users_and_groups</a></p>

                    <p>Add a new user and password for the user.</p>
                    <pre># useradd -mg wheel <i>username</i>
# passwd <i>username</i></pre>
                    <p>
                        <a href="https://wiki.archlinux.org/index.php/Sudo#Using_visudo" title="visudo">visudo</a> is a safe way to edit the sudoers file for granting permissions to users. Start by setting up the text editor to use with visudo.
                    </p>

                    <pre>$ export EDITOR=nano
$ visudo</pre>
                    <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/sudoers.tmp</pre>
                    <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">##
## User privilege specification
##
root ALL=(ALL) ALL
<i>username</i> ALL=(ALL) ALL</pre>
                    <p>You can uncomment out the other options if you wish. I have allowed members of group wheel to execute any command.</p>
                    <p>For changing permissions in the future after being logged in to a user that is not root, you must do <code>sudo su</code> and then proceed.</p>
                    <p>Login as your new user.</p>
                    <pre>$ login</pre>

                    <h2><span class="mw-headline" id="Desktop_environment">Desktop environment</span></h2>
                    <p>Visit <a href="https://wiki.archlinux.org/index.php/Desktop_environment" title="Desktop environments">here</a> for a list of more desktop environments. This guide only focuses on KDE Plasma because I use it.</p>
                    <h3><span class="mw-headline" id="KDE_Plasma">KDE Plasma</span></h3>
                    <p><a href="https://wiki.archlinux.org/index.php/KDE" title="KDE">KDE Plasma</a> is a beautiful desktop environment. It is a great choice for those who love customization. However, it isn't very lightweight and I wouldn't recommend this DE for lower end systems.</p>
                    <pre>$ pacman -S plasma-meta kde-applications xorg xorg-xinit</pre>
                    <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/.xinitrc</pre>
                    <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">exec startkde</pre>
                    <pre>$ systemctl enable sddm
$ reboot</pre>
                    <h2><span class="mw-headline" id="Moving_home">Moving /home</span></h2>
                    <p>You might want to move your /home folder to another drive if the other drive has more storage available for your programs.</p>
                    <ul>
                        <li>Create a partition with a partition manager or cfdisk. Make sure it's a Linux filesystem type. After, run the following:
                            <pre># sudo mkfs.ext4 /dev/<i>new_partition</i>
# sudo mount /dev/<i>new_partition</i> /mnt
# cd /mnt
# ls -ahl</pre>
                            <li>
                                <p>If "lost+found" is present then run:</p>
                            </li>
                            <pre># sudo rm -rf lost+found</pre>
                            <li>
                                <p>Copy over /home to /mnt.</p>
                            </li>
                            <pre># sudo cp -rp /home/* /mnt</pre>
                            <li>
                                <p>List the files and directories of /mnt to make sure everything was copied correctly:</p>
                            </li>
                            <pre># ls</pre>
                            <li>
                                <p>After making sure, move on:</p>
                            </li>
                            <pre>$ cd
# sudo mv /home /home.orig
# sudo mkdir /home
# sudo umount /dev/<i>new_partition</i>
# sudo mount /dev/<i>new_partition</i> /home/
# sudo cp /etc/fstab /etc/fstab.orig
# sudo chmod a=rwx /etc/fstab</pre>
                            <li>
                                <p>/home was archived and a new directory for /home replaced it. The new partition was mounted to the new /home. The <a href="https://wiki.archlinux.org/index.php/Fstab" title="fstab">fstab</a> file was also archived.
                                    <a href="https://wiki.archlinux.org/index.php/File_permissions_and_attributes#Changing_permissions" title="chmod">chmod</a> granted you permission to edit the file. Now edit /etc/fstab:</p>
                            </li>
                            <pre style="margin-bottom: 0; border-bottom:none; padding-bottom:0.8em;">/etc/fstab</pre>
                            <pre style="margin-top: 0; border-top-style:dashed; padding-top: 0.8em;">/dev/<i>new_partition</i>   /home   ext4    defaults       0    0                    </pre>
                            <p>Note: Tab indents are in use, not spaces.</p>
                            <li>
                                <p>Proceed to reboot.</p>
                            </li>
                            <pre>$ sudo reboot now</pre>
                            <li>
                                <p>Check if everything is correct.</p>
                            </li>
                            <pre># df /dev/<i>new_partition</i></pre>
                            <li>
                                <p>Delete home.orig.</p>
                            </li>
                            <pre># sudo rm -rf home.orig</pre>
                        </li>
                    </ul>
                    <h2><span class="mw-headline" id="pacman">Pacman</span></h2>
                    <p><a href="https://wiki.archlinux.org/index.php/Pacman" title="pacman">pacman</a> is the package manager for Arch Linux.</p>
                    <h3><span class="mw-headline" id="pacman-usage">Usage</span></h3>
                    <p>Read the wiki to learn how to install packages using pacman and use its other functions; this just provides some basic tips.
                        <br>You should use <code>pacman -Rns</code> to remove packages because
                        it removes the package AND any orphaned dependencies that will occur as a result of this removal.
                        Its configuration files saved by pacman will not be removed.
                        <br><code>pacman -Syy</code> syncs your packages and refreshes your package database.
                        <br><code>paccache -r</code> can clear the cache.
                    </p>
                    <h2><span class="mw-headline" id="Pacaur">Pacaur</span></h2>
                    <p><a href="https://aur.archlinux.org/packages/pacaur/" title="pacaur">Pacaur</a> is an 
                    <a href="https://wiki.archlinux.org/index.php/Arch_User_Repository" title="AUR">AUR</a> helper. If a package is on the AUR and you can't get it with pacman, then you can use pacaur. You should clone the repository using git if it has a Git Clone URL, and then use <code>makepkg -si</code>, however.</p>
                    <p>Make sure you have <a href="https://wiki.archlinux.org/index.php/Git" title="git">git</a> installed prior to this:</p>
                    <pre># cd ~
# git clone https://aur.archlinux.org/pacaur.git
# cd pacaur
# makepkg -si</pre>
                    <h2><span class="mw-headline" id="Miscellaneous">Miscellaneous</span></h2>
                    <h3><span class="mw-headline" id="Defaults">Setting defaults</span></h3>
                    <p><a href="https://wiki.archlinux.org/index.php/Xdg-utils#xdg-settings">xdg-settings</a> can be used to set defaults if you don't have a feature in your desktop environment to do so.</p>
                    <pre>$ xdg-settings set default-web-browser firefox.desktop</pre>
                    <h2><span class="mw-headline" id="Troubleshooting">Troubleshooting</span></h2>
                    <h3><span class="mw-headline" id="Permissions">'Permission denied' or 'Unable to write'</span></h3>
                    <p>Usually the solution is just to prepend <code>sudo</code> to the command or switch to the root user by:<pre>$ sudo su</pre></p>
                    <h2><span class="mw-headline" id="History">History</span></h2>
                    <p>
                    <ul>
                        <li>Installation Guide (2020) - ArchWiki</li>
                        <li>Arch Linux Installation Guide by mt60395 (2020) - mt60395</li>
                    </ul>
                    </p>
                </div>
            </div>

            <div class="visualClear"></div>

        </div>
    </div>
    <div id="footer" role="contentinfo">
        <ul id="footer-info">
            <li id="footer-info-copyright">Permission is granted to copy, distribute and/or modify this document under the terms of the <b><a class="external" rel="nofollow" href="https://www.gnu.org/licenses/fdl-1.3.html">GNU
                    Free Documentation License, Version 1.3 or any later version published by the Free Software
                    Foundation</a></b>; with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.</li>
        </ul>
        <div style="clear: both;"></div>
    </div>
</body>

</html>
